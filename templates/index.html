{% extends 'base.html' %}
{% block title %}WEISSE FLAMME · THRONE AND LIBERTY{% endblock %}

{% block content %}
<section class="hero" style="background-image:
  radial-gradient(ellipse at center, rgba(255,255,255,.06), rgba(0,0,0,.86) 60%),
  url('{{ url_for('static', filename='hero_bg.png') }}');">
  <div class="container hero-inner">
    <h1 class="title">WEISSE FLAMME</h1>
    <p class="subtitle">THRONE <span class="amp">&amp;</span> LIBERTY</p>
    <p class="lead">Infos, Builds und Guides zu THRONE AND LIBERTY</p>
    <div class="hero-cta">
      <a class="btn btn-gold" href="#search">Guides durchsuchen</a>
      <a class="btn btn-dark" href="#discord">
        <img src="{{ url_for('static', filename='icon_discord.svg') }}" alt="" aria-hidden="true">
        <span>Zum Discord</span>
      </a>
    </div>

    <!-- Deine zwei Rahmen links/rechts – unverändert, nur als Platzhalter -->
    <div class="hero-frames">
      <div class="hero-frame hero-frame--left" aria-hidden="true"></div>
      <div class="hero-frame hero-frame--right" aria-hidden="true"></div>
    </div>
  </div>
</section>

<nav class="quick-nav container" aria-label="Schnellzugriff">
  <a class="qbtn" href="#guides">Guides</a>
  <a class="qbtn" href="#klassen">Klassen</a>
  <a class="qbtn" href="#builds">Builds</a>
  <a class="qbtn" href="#map">Welt</a>
  <a class="qbtn" href="#map">Karte</a>
</nav>

<section class="features container" id="guides">
  <article class="card">
    <div class="card-icon">
      <img src="{{ url_for('static', filename='icon_swords.svg') }}" alt="">
    </div>
    <h3>Neuer Spieler?</h3>
    <p>Hier den Einsteigerguide lesen</p>
  </article>

  <article class="card" id="builds">
    <div class="card-icon">
      <img src="{{ url_for('static', filename='logo.png') }}" class="icon-flame" alt="">
    </div>
    <h3>Beliebte Builds</h3>
    <p>Durch die besten Builds stöbern</p>
  </article>

  <article class="card">
    <div class="card-icon">
      <img src="{{ url_for('static', filename='icon_chat.svg') }}" alt="">
    </div>
    <h3>Artikelvorschläge</h3>
    <p>Verrate uns, was du lesen willst</p>
  </article>
</section>

<!-- Interaktive Karte – jetzt LAZY -->
<section class="container map-section" id="map">
  <div class="section-head">
    <h2>Interaktive Karte</h2>
    <p class="section-sub">Öffnet die Live-Map von Questlog.gg</p>
  </div>

  <!-- Platzhalter – iFrame wird erst später eingesetzt -->
  <div id="map-mount"
       class="map-frame defer-embed"
       data-src="https://questlog.gg/throne-and-liberty/en/map"
       role="region" aria-label="Interaktive Karte">
    <div class="map-skeleton">
      <p>Karte wird geladen, sobald du hierher scrollst.</p>
      <button class="btn btn-dark" id="map-manual-load">Jetzt laden</button>
    </div>
  </div>

  <p class="map-fallback">
    Falls der Embed blockiert ist:
    <a href="https://questlog.gg/throne-and-liberty/en/map" target="_blank" rel="noopener">Karte im neuen Tab öffnen</a>.
  </p>
</section>
{% endblock %}
